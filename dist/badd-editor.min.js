!function(){var e=angular.module("baddEditor",[]),t=function(e,t){e.title=angular.isDefined(e.title)?e.title:"Bootstrap visual editor",e.componentsTitle=angular.isDefined(e.componentsTitle)?e.componentsTitle:"Components",e.propertiesTitle=angular.isDefined(e.propertiesTitle)?e.propertiesTitle:"Properties",t.addEventListener("message",function(){alert("received something")})};t.$inject=["$scope","$window"];var i=function(){return{restrict:"E",templateUrl:"badd-editor.html",scope:{title:"@",componentsTitle:"@",propertiesTitle:"@",template:"@"},controller:t}};e.directive("baddEditor",i)}();
!function(){var a=angular.module("baddEditor"),e=function(){return{restrict:"A",link:function(a,e){e.draggable({revert:!1,helper:"clone",iframeFix:!0,drag:function(){$(this).addClass("drag-active"),$(this).closest(e).addClass("drag-active")},stop:function(a,r){$(this).removeClass("drag-active").closest(e).removeClass("drag-active");angular.element(r.droppable)}})}}};a.directive("baddDraggable",e)}();
!function(){var e=angular.module("baddEditor"),t=function(e){return{restrict:"E",scope:{template:"@"},replace:!0,template:'<iframe class="browser"></iframe>',link:function(t,a,r){"IFRAME"===a.prop("tagName")&&(a.attr("src",r.template),a.load(function(){var r=a.contents().find("html");r.attr("ng-app","baddEditor");var n=r.find("body");n.attr("badd-droppable",""),n.attr("ng-controller","editablePageController as ctrl");var l=n.find("div");l.attr("badd-droppable",""),l.attr("ng-click","ctrl.sendMessage()"),e(r)(t)}))}}};t.$inject=["$compile"],e.directive("baddDroppableFrame",t);var a=function(e){var t=this;t.message="Hello darling",t.sendMessage=function(){e.postMessage(t.message,"*")}};a.$inject=["$window"],e.controller("editablePageController",a)}();
!function(){var e=angular.module("baddEditor"),a=function(e){return{restrict:"A",link:function(a,r,n){var t=n.greedy;void 0==t&&(t=!0),r.droppable({activeClass:"drop-active",greedy:t,hoverClass:"drop-hover",iframeFix:!0,tolerance:"intersect",drop:function(r,n){var t=angular.element(n.draggable).data("raw"),d=angular.element(n.draggable),l=angular.element(this);void 0==t&&(t=$(d)[0].outerHTML),e(t)(a).appendTo(l),void 0==angular.element(n.draggable).data("helper")&&$(d).remove()}})}}};a.$inject=["$compile"],e.directive("baddDroppable",a)}();
angular.module("baddEditor").run(["$templateCache", function($templateCache) {$templateCache.put("badd-editor.html","<table class=\"badd-editor\">\n	<tr>\n		<td class=\"badd-editor-header\" colspan=\"3\">\n			<div class=\"col-xs-12\">\n				<p class=\"title\">{{title}}</p>\n			</div>\n		</td>\n	</tr>\n	<tr>\n		<td class=\"badd-editor-components\">\n			<div class=\"components\">\n				<p class=\"title\">{{componentsTitle}}</p>\n				<ul>\n					<li>\n						<div badd-draggable data-raw=\"<button class=\'btn btn-primary\' badd-draggable>New Button</button>\">\n							<img src=\"btn.png\" /> <span>Button</span><i class=\"fa fa-arrows-alt\"></i>\n						</div>\n					</li>\n				</ul>\n			</div>\n		</td>\n		<td class=\"badd-editor-browser\">\n			<badd-droppable-frame template=\"{{template}}\"></badd-droppable-frame>\n		</td>\n		<td class=\"badd-editor-properties\">\n			<div class=\"properties\">\n				<p class=\"title\">{{propertiesTitle}}</p>\n				hi\n			</div>\n		</td>\n	</tr>\n</table>");}]);