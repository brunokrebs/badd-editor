!function(){var e=angular.module("baddEditor",[]),t=function(e){e.componentsTitle=angular.isDefined(e.componentsTitle)?e.componentsTitle:"Components",e.draggables=[{title:"Container",icon:"fa-square-o",element:'<div class="container"><div class="row"><div class="col-xs-12"><p>A simple row with a single column</p></div></div></div>'},{title:"Row",icon:"fa-align-justify",element:'<div class="row"><div class="col-xs-12"><p>A simple row with a single column</p></div></div>'},{title:"Column",icon:"fa-columns",element:'<div class="col-xs-12"><p>You can make me a smaller column</p></div>'},{title:"Header 1",icon:"fa-header",element:"<h1>An important title</h1>"},{title:"Paragraph",icon:"fa-align-left",element:"<p>Write something useful here</p>"},{title:"Button",icon:"fa-plus-square",element:'<btn class="btn btn-primary">My brand new button</btn>'},{title:"Image",icon:"fa-picture-o",element:'<img src="http://www.avjobs.com/images/v_png_v5/v_collection_png/256x256/shadow/airplane2.png"alt="airplane">'}]};t.$inject=["$scope"];var i=function(){return{restrict:"E",templateUrl:"badd-editor.html",scope:{title:"@",componentsTitle:"@",template:"@"},controller:t}};e.directive("baddEditor",i);var r=function(e,t,i){function r(e,t){var i=e.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t),i.setAttribute("type","text/css"),e.querySelector("head").appendChild(i)}function a(e){if(!_.contains(e.classList,"badd-avoid-dd")){"DIV"===e.tagName&&""!==e.getAttribute("badd-droppable")&&e.setAttribute("badd-droppable",""),""!==e.getAttribute("badd-draggable")&&(e.setAttribute("badd-draggable",""),e.setAttribute("badd-configurable",""));var t=_.toArray(e.querySelectorAll("*"));t.forEach(a)}}function d(){var e=h.document.querySelector("td.badd-editor-components"),t=h.document.querySelector("div.badd-editor-browser-frame");t.style.height=e.getBoundingClientRect().height-1+"px",h.iframe.style.height=e.getBoundingClientRect().height-140+"px";var i=h.document.querySelector("div.badd-editor-browser-address"),r=i.querySelector("div.badd-editor-browser-address-page-title");r.style.width=i.getBoundingClientRect().width-75+"px"}function l(e){e.getBoundingClientRect();h.editableFrame.style.margin=o(e,"margin"),h.editableFrame.style.width=e.offsetWidth+"px",h.editableFrame.style.height=e.offsetHeight+"px",h.editableFrame.style.display=o(e,"display"),h.editableFrame.style.position=o(e,"position"),e.parentNode.insertBefore(h.editableFrame,e.nextSibling),h.editableFrameBody.appendChild(e.cloneNode(!0)),h.editableFrameStyle.innerHTML+="body>"+e.tagName.toLowerCase()+"{margin:0 !important}";var t=_.toArray(e.querySelectorAll("*"));t.unshift(e);var i=_.toArray(h.editableFrameBody.querySelectorAll("*"));i.forEach(function(e,i){var r="badd-random-class-"+(new Date).getTime()+i;e.classList.add(r),h.editableFrameStyle.innerHTML+=" ."+r+n(t[i]),e.style.cssText=t[i].cssText}),e.style.display="none",h.editableFrameBody.firstElementChild.focus();var r=h.editableFrame.contentWindow.getSelection();h.editableFrame.contentWindow.focus(),r.collapse(h.editableFrameBody.firstElementChild,0)}function n(e){for(var t="",r=i.getComputedStyle(e),a=["height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","min-height","min-width","width"],d=0;d<r.length;d++){var l=r[d];_.contains(a,l)||"-"==l.substring(0,1)||(t+=r[d]+":"+r.getPropertyValue(r[d])+";")}return"{"+t+"}"}function o(e,t){var r=i.getComputedStyle(e);return r.getPropertyValue(t)}function s(){h.editableFrameStyle.innerHTML="html,body{overflow:hidden;margin:0}",h.editableFrameBody.innerHTML="",h.editableFrameBody.firstChild&&h.editableFrameBody.removeChild(h.editableFrameBody.firstChild),h.editableFrame.style.display="none",h.editableFrame.style.top=0,h.editableFrame.style.left=0,h.editableFrame.style.width=0,h.editableFrame.style.height=0}function g(e){e.stopPropagation(),e.preventDefault(),h.hideSelectedHighlightBorder()}function c(e){h.isIE10?e.designMode="On":e.designMode="on"}var h=this;h.editableTags=["H1","H2","H3","H4","H5","H6","H7","P","B","A","UL","OL","LI"],h.initializeFrame=function(l,n){return function(){h.document=t[0],h.iframe=l[0],d(),i.addEventListener("click",g),h.iframePosition=h.iframe.getBoundingClientRect(),h.iframeDocument=h.iframe.contentDocument,h.iframeDocument.addEventListener("scroll",h.updateHighlightBorderPosition),h.frameHtml=h.iframeDocument.querySelector("html"),h.frameHead=h.iframeDocument.querySelector("head"),h.frameBody=h.iframeDocument.querySelector("body"),h.pageTitle=h.iframeDocument.querySelector("title"),h.pageTitle?n.$apply(function(){n.pageTitle=h.pageTitle.textContent}):h.pageTitle=h.document.createElement("title"),h.transferArea=h.document.createElement("div"),h.transferArea.className="badd-transfer-area",h.frameBody.appendChild(h.transferArea),h.transferArea.innerHTML='<svg class="badd-highlighter badd-avoid-dd"></svg>',h.highlightBorder=h.transferArea.childNodes[0],h.frameBody.appendChild(h.highlightBorder),h.transferArea.innerHTML='<svg class="badd-selected-highlighter badd-avoid-dd"></svg>',h.selectedHighlightBorder=h.transferArea.childNodes[0],h.frameBody.appendChild(h.selectedHighlightBorder),h.transferArea.innerHTML='<iframe class="badd-editable-content-iframe badd-avoid-dd"></iframe>',h.editableFrame=h.transferArea.childNodes[0],h.editableFrame.onload=function(){h.editableFrameDocument=h.editableFrame.contentWindow.document,c(h.editableFrameDocument),h.editableFrameDocument.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),h.editableFrameDocument.execCommand("insertParagraph",!1))}),h.editableFrameDocument.addEventListener("keyup",function(){"none"!=h.editableFrame.style.display&&(h.editableFrame.style.height=h.editableFrameBody.scrollHeight+"px")}),h.editableFrameHead=h.editableFrame.contentWindow.document.querySelector("head"),null!=h.editableFrameHead&&(h.editableFrameStyle=h.editableFrameDocument.createElement("style"),h.editableFrameStyle.innerHTML="html,body{overflow:hidden;margin:0}",h.editableFrameHead.appendChild(h.editableFrameStyle),h.editableFrameBody=h.editableFrame.contentWindow.document.querySelector("body"),h.editableFrameBody.innerHTML="")},h.frameBody.appendChild(h.editableFrame),h.frameHtml.setAttribute("ng-app","baddEditor"),r(h.iframeDocument,"badd-editor-frame.min.css"),h.frameBody.setAttribute("badd-droppable",""),h.frameBody.setAttribute("badd-configurable","");var o=_.toArray(h.frameBody.querySelectorAll("*"));o.forEach(a),h.scope=n,e(h.frameHtml)(n)}},h.changePageTitle=function(e){h.pageTitle.textContent=e},h.startDragging=function(e){e.dataTransfer.setData("text","firefox needs data"),""===e.target.getAttribute("badd-configurable")?(h.previewElement=e.target,h.hideSelectedHighlightBorder()):(h.transferArea.innerHTML=e.target.getAttribute("data-element"),h.previewElement=h.transferArea.querySelector("*"))},h.stopDragging=function(e){h.transferArea.innerHTML="",h.previewElement&&h.previewElement.parentNode&&(h.previewElement.parentNode.removeChild(h.previewElement),h.previewElement=null),h.hideHighlightBorder()},h.elementEntering=function(e){h.previewElement.classList.remove("badd-hidden-preview-element"),e.stopPropagation(),e.preventDefault()},h.elementLeaving=function(e){var t=h.document.elementFromPoint(e.clientX+h.iframePosition.left,e.clientY+h.iframePosition.top);null!=t&&"IFRAME"===t.tagName&&_.contains(t.classList,"badd-editor-browser")||(h.previewElement.classList.add("badd-hidden-preview-element"),h.hideHighlightBorder())},h.elementHovering=function(e){if(e.stopPropagation(),e.preventDefault(),e.target.getAttribute&&e.target!==h.previewElement&&""===e.target.getAttribute("badd-droppable")){var t=_.toArray(e.target.childNodes),i=null,r=null;t.forEach(function(t){if(t.getBoundingClientRect&&!_.contains(e.target.classList,"badd-avoid-dd")&&t!=h.previewElement){var a=t.getBoundingClientRect(),d={X:a.width/2+a.left,Y:a.height/2+a.top},l=d.Y;l-a.top>30&&(l=a.top+30);var n=d.X;n-a.left>30&&(n=a.left+30),e.clientY>l&&e.clientX>n||e.clientY>a.bottom||(null==i?(i=t,r=a):r.left>=a.left&&r.top>=a.top&&(i=t,r=a))}}),i?e.target.insertBefore(h.previewElement,i):e.target.appendChild(h.previewElement),h.showHighlightBorder(e.target)}},h.elementDropped=function(t){t.stopPropagation(),t.preventDefault(),a(h.previewElement),e(h.previewElement)(h.scope),h.previewElement=null},h.updateHighlightBorderPosition=function(){"block"===h.highlightBorder.style.display&&h.lastHoveredTarget&&h.showHighlightBorder(h.lastHoveredTarget)},h.showHighlightBorder=function(e){var t=e.getBoundingClientRect();h.highlightBorder.style.top=t.top-3+"px",h.highlightBorder.style.left=t.left-3+"px",h.highlightBorder.style.width=e.offsetWidth+6+"px",h.highlightBorder.style.height=e.offsetHeight+6+"px",h.highlightBorder.style.display="block",h.lastHoveredTarget=e},h.showSelectedHighlightBorder=function(e){var t=e.getBoundingClientRect();h.selectedHighlightBorder.style.top=t.top-3+"px",h.selectedHighlightBorder.style.left=t.left-3+"px",h.selectedHighlightBorder.style.width=e.offsetWidth+6+"px",h.selectedHighlightBorder.style.height=e.offsetHeight+6+"px",h.selectedHighlightBorder.style.display="block"},h.hideSelectedHighlightBorder=function(){h.selectedHighlightBorder.style.display="none",h.selectedHighlightBorder.style.top=0,h.selectedHighlightBorder.style.left=0,h.selectedHighlightBorder.style.width=0,h.selectedHighlightBorder.style.height=0},h.hideHighlightBorder=function(){h.highlightBorder.style.display="none",h.highlightBorder.style.top=0,h.highlightBorder.style.left=0,h.highlightBorder.style.width=0,h.highlightBorder.style.height=0},h.mouseHovering=function(e){e.stopPropagation(),e.preventDefault(),_.contains(e.target.classList,"badd-avoid-dd")||h.showHighlightBorder(e.target)},h.mouseClick=function(e){if(e.stopPropagation(),e.preventDefault(),h.elementBeingEdited){for(var t=h.elementBeingEdited.parentNode;"BODY"!=t.tagName;)(t.getAttribute("badd-draggable")||t.getAttribute("draggable"))&&t.setAttribute("draggable","true"),t=t.parentNode;var i=h.editableFrameBody.querySelectorAll("*");if(_.forEach(i,function(e){var t=e.classList;_.forEach(t,function(t){t.indexOf("badd-random-class")>=0&&e.classList.remove(t)}),0==e.classList.length&&e.removeAttribute("class")}),h.selectedHighlightBorder.setAttribute("class","badd-selected-highlighter badd-avoid-dd"),h.transferArea.innerHTML=h.editableFrameBody.innerHTML,1==h.transferArea.childNodes.length)h.elementBeingEdited.parentNode.replaceChild(h.transferArea.childNodes[0],h.elementBeingEdited);else if(h.transferArea.childNodes.length>1){t=h.elementBeingEdited.parentNode;var r=h.transferArea.childNodes[0];for(t.replaceChild(r,h.elementBeingEdited);h.transferArea.childNodes.length>0;)t.insertBefore(h.transferArea.childNodes[0],r.nextSibling)}h.elementBeingEdited=null,s()}h.showSelectedHighlightBorder(e.target)},h.mouseDoubleClick=function(e){if(e.stopPropagation(),e.preventDefault(),_.contains(h.editableTags,e.target.tagName)){for(h.elementBeingEdited=e.target;"inline"==o(h.elementBeingEdited,"display");)h.elementBeingEdited=h.elementBeingEdited.parentNode;h.elementBeingEdited.removeEventListener("dragstart",h.startDragging,!1),h.elementBeingEdited.setAttribute("draggable","false");for(var t=h.elementBeingEdited.parentNode;"BODY"!=t.tagName;)(t.getAttribute("badd-draggable")||t.getAttribute("draggable"))&&t.setAttribute("draggable","false"),t=t.parentNode;h.hideHighlightBorder(),h.hideSelectedHighlightBorder(),l(h.elementBeingEdited)}},h.isIE10=function(){return null!=h.iframe.all},h.mouseLeaving=function(e){e.stopPropagation(),e.preventDefault(),h.hideHighlightBorder()}};r.$inject=["$compile","$document","$window"],e.service("editorService",r)}();
!function(){var e=angular.module("baddEditor"),i=function(e,i){return{restrict:"A",link:function(e,n){var t=n[0];t.addEventListener("mouseover",i.mouseHovering),t.addEventListener("click",i.mouseClick),t.addEventListener("dblclick",i.mouseDoubleClick),t.addEventListener("mouseout",i.mouseLeaving)}}};i.$inject=["$compile","editorService"],e.directive("baddConfigurable",i)}();
!function(){var t=angular.module("baddEditor"),r=function(t){return{restrict:"A",link:function(r,e){var a=e[0];a.setAttribute("draggable","true"),a.addEventListener("dragstart",t.startDragging,!1),a.addEventListener("dragend",t.stopDragging,!1)}}};r.$inject=["editorService"],t.directive("baddDraggable",r)}();
!function(){var e=angular.module("baddEditor"),t=function(e,t){e.pageTitleChanged=function(){t.changePageTitle(e.pageTitle)}};t.$inject=["$scope","editorService"];var a=function(e,a){return{restrict:"E",scope:{template:"@"},replace:!0,templateUrl:"badd-droppable-frame.html",controller:t,link:function(e,t,i){var r=t.find("iframe");r.attr("src",i.template),r.on("load",a.initializeFrame(r,e))}}};a.$inject=["$compile","editorService"],e.directive("baddDroppableFrame",a)}();
!function(){var e=angular.module("baddEditor"),n=function(e,n){return{restrict:"A",link:function(e,r){var t=r[0];t.addEventListener("dragenter",n.elementEntering),t.addEventListener("dragleave",n.elementLeaving),t.addEventListener("dragover",n.elementHovering),t.addEventListener("drop",n.elementDropped)}}};n.$inject=["$compile","editorService"],e.directive("baddDroppable",n)}();
angular.module("baddEditor").run(["$templateCache", function($templateCache) {$templateCache.put("badd-droppable-frame.html","<div class=\"badd-editor-browser-frame\">\n	<div class=\"badd-editor-browser-header\">\n		<div class=\"badd-editor-browser-header-close\"></div>\n		<div class=\"badd-editor-browser-header-min\"></div>\n		<div class=\"badd-editor-browser-header-max\"></div>\n	</div>\n	<div class=\"badd-editor-browser-address\">\n		<div class=\"badd-editor-browser-address-undo-redo\">\n			<div class=\"badd-editor-browser-address-return\">\n				<i class=\"fa fa-arrow-left\"></i>\n			</div>\n			<div class=\"badd-editor-browser-address-redo\">\n				<i class=\"fa fa-arrow-right\"></i>\n			</div>\n		</div>\n		<div class=\"badd-editor-browser-address-page-title\">\n			<input type=\"text\" class=\"form-control\" placeholder=\"Page title\"\n				   ng-model=\"pageTitle\" ng-change=\"pageTitleChanged()\">\n		</div>\n	</div>\n	<div class=\"badd-editor-browser-configuration\">\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Font\">\n			Arial <span class=\"caret\"></span>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Font size\">\n			11 <span class=\"fa fa-caret-up\"></span> <span class=\"fa fa-caret-down\"></span>\n		</button>\n		<div class=\"btn-separator\"></div>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Bold\">\n			<i class=\"fa fa-bold\"></i>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Italic\">\n			<i class=\"fa fa-italic\"></i>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Underline\">\n			<i class=\"fa fa-underline\"></i>\n		</button>\n		<div class=\"btn-separator\"></div>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Font color\">\n			<strong>F</strong>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Background color\">\n			<i class=\"fa fa-square\"></i>\n		</button>\n		<div class=\"btn-separator\"></div>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Background color\">\n			<i class=\"fa fa-align-left\"></i>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Background color\">\n			<i class=\"fa fa-align-center\"></i>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Background color\">\n			<i class=\"fa fa-align-right\"></i>\n		</button>\n		<button type=\"button\" class=\"btn btn-default disabled\" title=\"Background color\">\n			<i class=\"fa fa-align-justify\"></i>\n		</button>\n	</div>\n	<iframe class=\"badd-editor-browser\"></iframe>\n	<div class=\"badd-editor-browser-footer\"></div>\n</div>");
$templateCache.put("badd-editor.html","<table class=\"badd-editor\">\n	<tr>\n		<td class=\"badd-editor-components\">\n			<div class=\"badd-editor-components\">\n				<p class=\"badd-editor-title\">{{componentsTitle}}</p>\n				<ul>\n					<li ng-repeat=\"draggable in draggables\" data-element=\"{{draggable.element}}\" badd-draggable>\n						<i class=\"fa {{draggable.icon}}\"></i>\n						<span class=\"badd-editor-title\">{{draggable.title}}</span>\n					</li>\n				</ul>\n			</div>\n		</td>\n		<td class=\"badd-editor-browser\">\n			<badd-droppable-frame template=\"{{template}}\"></badd-droppable-frame>\n		</td>\n	</tr>\n</table>");}]);
!function(){var e=function(){function e(){return t.frameDocument.all?1:0}var t=this;t.frameWindow=null,t.frameDocument=null,t.textArea=null;var n=[],i=-30;n.cut=[1,"Cut","a","cut"],n.copy=[2,"Copy","a","copy"],n.paste=[3,"Paste","a","paste"],n.bold=[4,"Bold","a","bold"],n.italic=[5,"Italic","a","italic"],n.underline=[6,"Underline","a","underline"],n.strikethrough=[7,"Strikethrough","a","strikethrough"],n.subscript=[8,"Subscript","a","subscript"],n.superscript=[9,"Superscript","a","superscript"],n.orderedlist=[10,"Insert Ordered List","a","insertorderedlist"],n.unorderedlist=[11,"Insert Unordered List","a","insertunorderedlist"],n.outdent=[12,"Outdent","a","outdent"],n.indent=[13,"Indent","a","indent"],n.leftalign=[14,"Left Align","a","justifyleft"],n.centeralign=[15,"Center Align","a","justifycenter"],n.rightalign=[16,"Right Align","a","justifyright"],n.blockjustify=[17,"Block Justify","a","justifyfull"],n.undo=[18,"Undo","a","undo"],n.redo=[19,"Redo","a","redo"],n.image=[20,"Insert Image","i","insertimage","Enter Image URL:","http://"],n.hr=[21,"Insert Horizontal Rule","a","inserthorizontalrule"],n.link=[22,"Insert Hyperlink","i","createlink","Enter URL:","http://"],n.unlink=[23,"Remove Hyperlink","a","unlink"],n.unformat=[24,"Remove Formatting","a","removeformat"],t.createEditor=function(r,a){t.ie=e(),this.editorName=r,this.xhtml=a.xhtml,t.editorDiv=t.frameDocument.createElement("div"),t.editorIframeContainer=t.frameDocument.createElement("div");var o=t.frameDocument.createElement("div"),d=a.controls.length,m=0;for(t.iframe=t.frameDocument.createElement("iframe"),t.iframe.frameBorder=0,t.iframe.width=a.width||"500",t.iframe.height=a.height||"250",o.className="teheader badd-avoid-dd",t.editorDiv.className="te badd-avoid-dd",t.editorDiv.style.maxWidth=t.iframe.width+"px",t.editorDiv.appendChild(o),m;d>m;m++){var c=a.controls[m];if("n"===c)o=t.frameDocument.createElement("div"),o.className="teheader badd-avoid-dd",t.editorDiv.appendChild(o);else if("|"==c){var s=t.frameDocument.createElement("div");s.className="tedivider badd-avoid-dd",o.appendChild(s)}else if("font"==c){var l=t.frameDocument.createElement("select"),u=["Verdana","Arial","Georgia"];l.className="tefont badd-avoid-dd",l.onchange=new Function(t.ddaction(this,"fontname")),l.options[0]=new Option("Font",""),u.forEach(function(e,t){l.options[t+1]=new Option(e,e)}),o.appendChild(l)}else if("size"==c){var f=t.frameDocument.createElement("select"),h=[1,2,3,4,5,6,7];f.className="tesize badd-avoid-dd",f.onchange=t.ddaction(f,"fontsize"),h.forEach(function(e,t){f.options[t]=new Option(e,e)}),o.appendChild(f)}else if("style"==c){var p=t.frameDocument.createElement("select"),v=[["Style",""],["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]];p.className="testyle badd-avoid-dd",p.onchange=t.ddaction(p,"formatblock"),v.forEach(function(e,t){p.options[t]=new Option(e[0],e[1])}),o.appendChild(p)}else if(n[c]){var D,g=t.frameDocument.createElement("div"),y=n[c],b=y[2],E=y[0]*i;g.className="tecontrol badd-avoid-dd",g.style.backgroundPosition="0px "+E+"px",g.title=y[1],D="a"===b?t.action(y[3],0,y[4]||0):'.insert("'+y[4]+'", "'+y[5]+'", "'+y[3]+'")',g.onclick=D,o.appendChild(g),t.ie&&(g.unselectable="on")}}t.textArea.parentNode.insertBefore(t.editorDiv,t.textArea),t.textArea.style.width=t.iframe.width+"px",t.editorIframeContainer.appendChild(t.textArea),t.editorIframeContainer.appendChild(t.iframe),t.editorDiv.appendChild(t.editorIframeContainer),t.textArea.style.display="none",t.inlineFrameDocument=t.iframe.contentWindow.document,t.inlineFrameDocument.open();var C='<html><head><link rel="stylesheet" href="tinyeditor.min.css" />';if(C+='</head><body id="badd-inline-tinyeditor">'+t.textArea.value,C+="</body></html>",t.inlineFrameDocument.write(C),t.inlineFrameDocument.close(),t.inlineFrameDocument.designMode="on",this.xhtml)try{t.inlineFrameDocument.execCommand("styleWithCSS",0,0)}catch(w){try{t.inlineFrameDocument.execCommand("useCSS",0,1)}catch(w){}}},t.action=function(e,n,i){return!i||t.ie?function(){t.inlineFrameDocument.execCommand(e,0,n||null)}:void alert("Your browser does not support this function.")},t.print=function(){t.iframe.contentWindow.print()},t.ddaction=function(e,n){return function(){var i=e.selectedIndex,r=e.options[i].value;t.action(n,r)()}},t.insert=function(e,n,i){var r=prompt(e,n);null!=r&&""!=r&&t.inlineFrameDocument.execCommand(i,0,r)},t.setfont=function(){execCommand("formatblock",0,hType)},t.resize=function(e){this.mv&&this.freeze(),t.iframe.bcs=t.cursorTop(e),this.mv=new Function("event",this.editorName+".move(event)"),this.sr=new Function(this.editorName+".freeze()"),this.ie?(t.frameDocument.attachEvent("onmousemove",this.mv),t.frameDocument.attachEvent("onmouseup",this.sr)):(t.frameDocument.addEventListener("mousemove",this.mv,1),t.frameDocument.addEventListener("mouseup",this.sr,1))},t.move=function(e){var n=t.cursorTop(e);t.iframe.height=parseInt(t.iframe.height)+n-t.iframe.bcs,t.iframe.bcs=n},t.freeze=function(){this.ie?(t.frameDocument.detachEvent("onmousemove",this.mv),t.frameDocument.detachEvent("onmouseup",this.sr)):(t.frameDocument.removeEventListener("mousemove",this.mv,1),t.frameDocument.removeEventListener("mouseup",this.sr,1))},t.cursorTop=function(n){return e()?t.window.event.clientY+t.frameDocument.documentElement.scrollTop+t.frameDocument.body.scrollTop:n.clientY+t.window.scrollY}};angular.module("baddEditor").service("tinyEditorService",e)}();